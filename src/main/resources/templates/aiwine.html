<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout.html}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì™€ì¸ ì¶”ì²œ - Portoria</title>
    <link rel="stylesheet" th:href="@{/css/aiwine.css}">
</head>
<body>
    <div layout:fragment="content" class="ai-wine-container">
        <div class="container">
            <!-- í—¤ë” ì„¹ì…˜ -->
            <div class="ai-header">
                <h1 class="page-title" data-ko="AI ì™€ì¸ ì¶”ì²œ" data-en="AI Wine Recommendation" data-pt="RecomendaÃ§Ã£o de Vinho IA">AI ì™€ì¸ ì¶”ì²œ</h1>
                <p class="page-subtitle" data-ko="AIê°€ ë‹¹ì‹ ì˜ ì·¨í–¥ì— ë§ëŠ” ì™„ë²½í•œ ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤. ì–´ë–¤ ìŒì‹ê³¼ í•¨ê»˜ ë“œì‹¤ ê±´ê°€ìš”? ì–´ë–¤ ë¶„ìœ„ê¸°ë¥¼ ì›í•˜ì‹œë‚˜ìš”? ììœ ë¡­ê²Œ ì§ˆë¬¸í•´ë³´ì„¸ìš”!" data-en="AI recommends the perfect wine for your taste. What food will you pair it with? What mood are you looking for? Feel free to ask anything!" data-pt="A IA recomenda o vinho perfeito para seu gosto. Com que comida vocÃª vai acompanhar? Que clima vocÃª estÃ¡ procurando? Sinta-se Ã  vontade para perguntar qualquer coisa!">AIê°€ ë‹¹ì‹ ì˜ ì·¨í–¥ì— ë§ëŠ” ì™„ë²½í•œ ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤. ì–´ë–¤ ìŒì‹ê³¼ í•¨ê»˜ ë“œì‹¤ ê±´ê°€ìš”? ì–´ë–¤ ë¶„ìœ„ê¸°ë¥¼ ì›í•˜ì‹œë‚˜ìš”? ììœ ë¡­ê²Œ ì§ˆë¬¸í•´ë³´ì„¸ìš”!</p>
            </div>

            <!-- ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ -->
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- AI í™˜ì˜ ë©”ì‹œì§€ -->
                    <div class="message ai-message">
                        <div class="message-avatar">
                            <div class="ai-avatar">AI</div>
                        </div>
                        <div class="message-content">
                            <div class="message-text" data-ko="ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Portoriaì˜ AI ì™€ì¸ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì–´ë–¤ ì™€ì¸ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”? ì˜ˆë¥¼ ë“¤ì–´:&#10;&#10;â€¢ 'ìŠ¤í…Œì´í¬ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ ì¶”ì²œí•´ì£¼ì„¸ìš”'&#10;â€¢ 'ë‹¬ì½¤í•œ ë””ì €íŠ¸ ì™€ì¸ ì•Œë ¤ì£¼ì„¸ìš”'&#10;â€¢ 'ì˜ˆì‚° 5ë§Œì› ì´í•˜ì˜ ì¢‹ì€ ì™€ì¸ ì¶”ì²œí•´ì£¼ì„¸ìš”'&#10;â€¢ 'ë¡œë§¨í‹±í•œ ì €ë…ì— ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ì€?'" data-en="Hello! I'm Portoria's AI wine expert. What kind of wine are you looking for? For example:&#10;&#10;â€¢ 'Recommend a wine that goes well with steak'&#10;â€¢ 'Tell me about sweet dessert wines'&#10;â€¢ 'Recommend a good wine under $50'&#10;â€¢ 'What wine is good for a romantic evening?'" data-pt="OlÃ¡! Sou o especialista em vinhos IA da Portoria. Que tipo de vinho vocÃª estÃ¡ procurando? Por exemplo:&#10;&#10;â€¢ 'Recomende um vinho que combina bem com bife'&#10;â€¢ 'Me conte sobre vinhos doces de sobremesa'&#10;â€¢ 'Recomende um bom vinho abaixo de $50'&#10;â€¢ 'Que vinho Ã© bom para uma noite romÃ¢ntica?'">ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Portoriaì˜ AI ì™€ì¸ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì–´ë–¤ ì™€ì¸ì„ ì°¾ê³  ê³„ì‹ ê°€ìš”? ì˜ˆë¥¼ ë“¤ì–´:

â€¢ 'ìŠ¤í…Œì´í¬ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ ì¶”ì²œí•´ì£¼ì„¸ìš”'
â€¢ 'ë‹¬ì½¤í•œ ë””ì €íŠ¸ ì™€ì¸ ì•Œë ¤ì£¼ì„¸ìš”'
â€¢ 'ì˜ˆì‚° 5ë§Œì› ì´í•˜ì˜ ì¢‹ì€ ì™€ì¸ ì¶”ì²œí•´ì£¼ì„¸ìš”'
â€¢ 'ë¡œë§¨í‹±í•œ ì €ë…ì— ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ì€?'</div>
                            <div class="message-time" data-ko="ë°©ê¸ˆ ì „" data-en="Just now" data-pt="Agora mesmo">ë°©ê¸ˆ ì „</div>
                        </div>
                    </div>
                </div>

                <!-- ì…ë ¥ ì˜ì—­ -->
                <div class="chat-input-container">
                    <div class="input-wrapper">
                        <textarea id="messageInput" class="message-input" placeholder="ì™€ì¸ì— ëŒ€í•´ ì§ˆë¬¸í•´ë³´ì„¸ìš”..." rows="3" data-ko-placeholder="ì™€ì¸ì— ëŒ€í•´ ì§ˆë¬¸í•´ë³´ì„¸ìš”..." data-en-placeholder="Ask about wine..." data-pt-placeholder="Pergunte sobre vinho..."></textarea>
                        <div class="input-actions">
                            <button type="button" class="send-btn" id="sendBtn" data-ko="ì „ì†¡" data-en="Send" data-pt="Enviar">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2.01 21L23 12L2.01 3L2 10L17 12L2 14L2.01 21Z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="input-hint" data-ko="Enter í‚¤ë¥¼ ëˆŒëŸ¬ ì „ì†¡í•˜ê±°ë‚˜ ì „ì†¡ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”" data-en="Press Enter to send or click the send button" data-pt="Pressione Enter para enviar ou clique no botÃ£o enviar">Enter í‚¤ë¥¼ ëˆŒëŸ¬ ì „ì†¡í•˜ê±°ë‚˜ ì „ì†¡ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</div>
                </div>
            </div>

            <!-- ë¹ ë¥¸ ì§ˆë¬¸ ë²„íŠ¼ë“¤ -->
            <div class="quick-questions">
                <h3 class="quick-title" data-ko="ë¹ ë¥¸ ì§ˆë¬¸" data-en="Quick Questions" data-pt="Perguntas RÃ¡pidas">ë¹ ë¥¸ ì§ˆë¬¸</h3>
                <div class="quick-buttons">
                    <button class="quick-btn" data-ko="ìŠ¤í…Œì´í¬ì™€ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸" data-en="Wine for steak" data-pt="Vinho para bife">ìŠ¤í…Œì´í¬ì™€ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸</button>
                    <button class="quick-btn" data-ko="ë‹¬ì½¤í•œ ë””ì €íŠ¸ ì™€ì¸" data-en="Sweet dessert wine" data-pt="Vinho doce de sobremesa">ë‹¬ì½¤í•œ ë””ì €íŠ¸ ì™€ì¸</button>
                    <button class="quick-btn" data-ko="ì˜ˆì‚° 5ë§Œì› ì´í•˜ ì™€ì¸" data-en="Wine under $50" data-pt="Vinho abaixo de $50">ì˜ˆì‚° 5ë§Œì› ì´í•˜ ì™€ì¸</button>
                    <button class="quick-btn" data-ko="ë¡œë§¨í‹±í•œ ì €ë… ì™€ì¸" data-en="Romantic evening wine" data-pt="Vinho para noite romÃ¢ntica">ë¡œë§¨í‹±í•œ ì €ë… ì™€ì¸</button>
                    <button class="quick-btn" data-ko="íŒŒí‹°ìš© ì™€ì¸ ì¶”ì²œ" data-en="Party wine recommendation" data-pt="RecomendaÃ§Ã£o de vinho para festa">íŒŒí‹°ìš© ì™€ì¸ ì¶”ì²œ</button>
                    <button class="quick-btn" data-ko="ì™€ì¸ ë³´ê´€ ë°©ë²•" data-en="Wine storage tips" data-pt="Dicas de armazenamento de vinho">ì™€ì¸ ë³´ê´€ ë°©ë²•</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <th:block layout:fragment="script">
        <script>
            // ì–¸ì–´ ì „í™˜ ê¸°ëŠ¥
            function updateAILanguage(lang) {
                // ëª¨ë“  data-ko, data-en, data-pt ì†ì„±ì„ ê°€ì§„ ìš”ì†Œë“¤ì˜ í…ìŠ¤íŠ¸ ë³€ê²½
                const elements = document.querySelectorAll('[data-ko][data-en][data-pt]');
                elements.forEach(element => {
                    const text = element.getAttribute(`data-${lang}`);
                    if (text) {
                        element.textContent = text;
                    }
                });

                // placeholder ì†ì„±ë„ ë³€ê²½
                const inputs = document.querySelectorAll('[data-ko-placeholder]');
                inputs.forEach(input => {
                    const placeholder = input.getAttribute(`data-${lang}-placeholder`);
                    if (placeholder) {
                        input.placeholder = placeholder;
                    }
                });
            }

            // ì „ì—­ ì–¸ì–´ ì „í™˜ í•¨ìˆ˜ (í—¤ë”ì—ì„œ í˜¸ì¶œ)
            function changeLanguage(lang) {
                // í—¤ë”ì˜ ì–¸ì–´ ë“œë¡­ë‹¤ìš´ í…ìŠ¤íŠ¸ ë³€ê²½
                const languageDropdown = document.getElementById('languageDropdown');
                if (languageDropdown) {
                    if (lang === 'ko') {
                        languageDropdown.textContent = 'í•œêµ­ì–´';
                    } else if (lang === 'en') {
                        languageDropdown.textContent = 'English';
                    } else if (lang === 'pt') {
                        languageDropdown.textContent = 'PortuguÃªs';
                    }
                }

                // AI í˜ì´ì§€ ì–¸ì–´ ì—…ë°ì´íŠ¸
                updateAILanguage(lang);

                // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì–¸ì–´ ì„¤ì • ì €ì¥
                localStorage.setItem('selectedLanguage', lang);

                // ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ë‹«ê¸°
                const dropdown = document.querySelector('.dropdown-menu[aria-labelledby="languageDropdown"]');
                if (dropdown) {
                    dropdown.classList.remove('show');
                }
                const dropdownToggle = document.getElementById('languageDropdown');
                if (dropdownToggle) {
                    dropdownToggle.setAttribute('aria-expanded', 'false');
                }
            }

            // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ì–¸ì–´ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
            document.addEventListener('DOMContentLoaded', function() {
                const savedLanguage = localStorage.getItem('selectedLanguage');
                if (savedLanguage && savedLanguage !== 'ko') {
                    changeLanguage(savedLanguage);
                }

                // ì±„íŒ… ê¸°ëŠ¥ ì´ˆê¸°í™”
                initializeChat();
            });

            // ì–¸ì–´ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œ ì–¸ì–´ê°€ ë³€ê²½ë  ë•Œ)
            window.addEventListener('storage', function(e) {
                if (e.key === 'selectedLanguage') {
                    changeLanguage(e.newValue);
                }
            });

            // ì±„íŒ… ê¸°ëŠ¥
            function initializeChat() {
                const messageInput = document.getElementById('messageInput');
                const sendBtn = document.getElementById('sendBtn');
                const chatMessages = document.getElementById('chatMessages');
                const quickButtons = document.querySelectorAll('.quick-btn');

                // ë©”ì‹œì§€ ì „ì†¡ í•¨ìˆ˜
                function sendMessage(message) {
                    if (!message.trim()) return;

                    // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
                    addMessage(message, 'user');
                    
                    // ì…ë ¥ì°½ ì´ˆê¸°í™”
                    messageInput.value = '';
                    
                    // AI ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œë¡œëŠ” ì„œë²„ì™€ í†µì‹ )
                    setTimeout(() => {
                        const aiResponse = generateAIResponse(message);
                        addMessage(aiResponse, 'ai');
                    }, 1000);
                }

                // ë©”ì‹œì§€ ì¶”ê°€ í•¨ìˆ˜
                function addMessage(text, sender) {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message ${sender}-message`;
                    
                    const time = new Date().toLocaleTimeString('ko-KR', { 
                        hour: '2-digit', 
                        minute: '2-digit' 
                    });

                    if (sender === 'user') {
                        messageDiv.innerHTML = `
                            <div class="message-content">
                                <div class="message-text">${text}</div>
                                <div class="message-time">${time}</div>
                            </div>
                            <div class="message-avatar">
                                <div class="user-avatar">ë‚˜</div>
                            </div>
                        `;
                    } else {
                        messageDiv.innerHTML = `
                            <div class="message-avatar">
                                <div class="ai-avatar">AI</div>
                            </div>
                            <div class="message-content">
                                <div class="message-text">${text}</div>
                                <div class="message-time">${time}</div>
                            </div>
                        `;
                    }

                    chatMessages.appendChild(messageDiv);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }

                // AI ì‘ë‹µ ìƒì„± í•¨ìˆ˜ (ì‹¤ì œë¡œëŠ” ì„œë²„ API í˜¸ì¶œ)
                function generateAIResponse(userMessage) {
                    // í˜„ì¬ ì–¸ì–´ ê°€ì ¸ì˜¤ê¸°
                    const currentLang = localStorage.getItem('selectedLanguage') || 'ko';
                    
                    const responses = {
                        'ko': {
                            'ìŠ¤í…Œì´í¬': 'ìŠ¤í…Œì´í¬ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ¥©ğŸ·\n\n**ì¶”ì²œ ì™€ì¸:**\nâ€¢ **Cabernet Sauvignon** - í’ë¶€í•œ íƒ„ë‹Œê³¼ ê¹Šì€ ë§›\nâ€¢ **Malbec** - ë¶€ë“œëŸ½ê³  ê³¼ì¼í–¥ì´ ì§„í•œ ë§›\nâ€¢ **Syrah/Shiraz** - ìŠ¤íŒŒì´ì‹œí•˜ê³  í’€ë°”ë””í•œ ë§›\n\n**ê°€ê²©ëŒ€ë³„ ì¶”ì²œ:**\nâ€¢ 3-5ë§Œì›: ì¹ ë ˆ ì‚°íƒ€ ë¦¬íƒ€, ì•„ë¥´í—¨í‹°ë‚˜ íŠ¸ë¼í”¼ì²´\nâ€¢ 5-10ë§Œì›: í”„ë‘ìŠ¤ ë³´ë¥´ë„, í˜¸ì£¼ íœí´ì¦ˆ\nâ€¢ 10ë§Œì› ì´ìƒ: ë¯¸êµ­ ë‚˜íŒŒë°¸ë¦¬, ì´íƒˆë¦¬ì•„ í† ìŠ¤ì¹´ë‚˜\n\nìŠ¤í…Œì´í¬ì˜ êµ½ê¸° ì •ë„ì— ë”°ë¼ ì™€ì¸ë„ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ë ˆì–´í•œ ìŠ¤í…Œì´í¬ì—ëŠ” ê°€ë²¼ìš´ ì™€ì¸ì„, ì›°ë˜ ìŠ¤í…Œì´í¬ì—ëŠ” ì§„í•œ ì™€ì¸ì„ ì¶”ì²œí•©ë‹ˆë‹¤!',
                            'ë””ì €íŠ¸': 'ë‹¬ì½¤í•œ ë””ì €íŠ¸ ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ°ğŸ·\n\n**ì¶”ì²œ ì™€ì¸:**\nâ€¢ **Moscato d\'Asti** - ê°€ë³ê³  ë‹¬ì½¤í•œ ì´íƒˆë¦¬ì•„ ì™€ì¸\nâ€¢ **Riesling** - ê½ƒí–¥ê³¼ ê³¼ì¼í–¥ì´ í’ë¶€í•œ ë…ì¼ ì™€ì¸\nâ€¢ **Port Wine** - ì§„í•œ ë‹¬ì½¤í•¨ì˜ í¬ë¥´íˆ¬ê°ˆ ì™€ì¸\nâ€¢ **Sauternes** - ê¿€ê°™ì€ ë‹¬ì½¤í•¨ì˜ í”„ë‘ìŠ¤ ì™€ì¸\n\n**ë””ì €íŠ¸ë³„ í˜ì–´ë§:**\nâ€¢ ì¼€ì´í¬: Moscato, Riesling\nâ€¢ ì´ˆì½œë¦¿: Port Wine, Madeira\nâ€¢ ì¹˜ì¦ˆ: Sauternes, Ice Wine\nâ€¢ ê³¼ì¼: Prosecco, Lambrusco\n\në””ì €íŠ¸ ì™€ì¸ì€ ë””ì €íŠ¸ë³´ë‹¤ ì•½ê°„ ë” ë‹¬ì½¤í•´ì•¼ ì™„ë²½í•œ ì¡°í™”ë¥¼ ì´ë£¹ë‹ˆë‹¤!',
                            'ì˜ˆì‚°': 'ì˜ˆì‚°ì— ë§ëŠ” ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ’°ğŸ·\n\n**5ë§Œì› ì´í•˜ ì¶”ì²œ:**\nâ€¢ **ì¹ ë ˆ ì™€ì¸**: ì‚°íƒ€ ë¦¬íƒ€, ì½”ë…¸ ìˆ˜ë¥´\nâ€¢ **ìŠ¤í˜ì¸ ì™€ì¸**: ë¦¬ì˜¤í•˜, ë¦¬ë² ë¼ ë¸ ë‘ì—ë¡œ\nâ€¢ **ì´íƒˆë¦¬ì•„ ì™€ì¸**: í‚¤ì•ˆí‹°, ëª¬í…Œí’€ì¹˜ì•„ë…¸\nâ€¢ **í˜¸ì£¼ ì™€ì¸**: ì˜ë¡œìš° í…Œì¼, ì œì´ì½¥ìŠ¤ í¬ë¦­\n\n**ê°€ì„±ë¹„ íŒ:**\nâ€¢ ì‹ ì„¸ê³„ ì™€ì¸ (ì¹ ë ˆ, ì•„ë¥´í—¨í‹°ë‚˜, í˜¸ì£¼)\nâ€¢ ëœ ì•Œë ¤ì§„ ìœ ëŸ½ ì§€ì—­ì˜ ì™€ì¸\nâ€¢ ëŒ€í˜• ë§ˆíŠ¸ ìì²´ ë¸Œëœë“œ ì™€ì¸\nâ€¢ ì™€ì¸ ì „ë¬¸ì ì˜ ì¶”ì²œ ì™€ì¸\n\nì¢‹ì€ ì™€ì¸ì€ ë°˜ë“œì‹œ ë¹„ì‹¸ì§€ ì•ŠìŠµë‹ˆë‹¤. ìì‹ ì˜ ì·¨í–¥ì„ ì°¾ëŠ” ê²ƒì´ ê°€ì¥ ì¤‘ìš”í•´ìš”!',
                            'ë¡œë§¨í‹±': 'ë¡œë§¨í‹±í•œ ì €ë…ì— ì–´ìš¸ë¦¬ëŠ” ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ’•ğŸ·\n\n**ì¶”ì²œ ì™€ì¸:**\nâ€¢ **Champagne** - íŠ¹ë³„í•œ ìˆœê°„ì˜ ì™„ë²½í•œ ì„ íƒ\nâ€¢ **Prosecco** - ê°€ë³ê³  ë‹¬ì½¤í•œ ì´íƒˆë¦¬ì•„ ìŠ¤íŒŒí´ë§\nâ€¢ **Pinot Noir** - ìš°ì•„í•˜ê³  ì„¬ì„¸í•œ ë ˆë“œ ì™€ì¸\nâ€¢ **Chardonnay** - ë¶€ë“œëŸ½ê³  í¬ë¦¬ë¯¸í•œ í™”ì´íŠ¸ ì™€ì¸\n\n**ë¶„ìœ„ê¸°ë³„ ì¶”ì²œ:**\nâ€¢ ìºì£¼ì–¼í•œ ë¡œë§¨ìŠ¤: Prosecco, Moscato\nâ€¢ í´ë˜ì‹í•œ ë¡œë§¨ìŠ¤: Champagne, Burgundy\nâ€¢ ëª¨ë˜í•œ ë¡œë§¨ìŠ¤: New World Pinot Noir\nâ€¢ ë‹¬ì½¤í•œ ë¡œë§¨ìŠ¤: Dessert Wine, Port\n\n**í˜ì–´ë§ ì¶”ì²œ:**\nâ€¢ ì´ˆì½œë¦¿ê³¼ í•¨ê»˜: Port Wine\nâ€¢ ì¹˜ì¦ˆì™€ í•¨ê»˜: Champagne\nâ€¢ ê³¼ì¼ê³¼ í•¨ê»˜: Moscato\nâ€¢ ì´›ë¶ˆ ì €ë…ì‹ì‚¬: Pinot Noir\n\në¡œë§¨í‹±í•œ ìˆœê°„ì„ ë”ìš± íŠ¹ë³„í•˜ê²Œ ë§Œë“¤ì–´ë“œë¦´ê²Œìš”! ğŸŒ¹',
                            'íŒŒí‹°': 'íŒŒí‹°ìš© ì™€ì¸ì„ ì¶”ì²œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ‰ğŸ·\n\n**ì¶”ì²œ ì™€ì¸:**\nâ€¢ **Prosecco** - ê°€ë³ê³  ë‹¬ì½¤í•œ ì´íƒˆë¦¬ì•„ ìŠ¤íŒŒí´ë§\nâ€¢ **Cava** - ìŠ¤í˜ì¸ì˜ ê²½ì œì ì¸ ìŠ¤íŒŒí´ë§ ì™€ì¸\nâ€¢ **Pinot Grigio** - ê°€ë³ê³  ìƒí¼í•œ í™”ì´íŠ¸ ì™€ì¸\nâ€¢ **Beaujolais** - ê³¼ì¼í–¥ì´ ì§„í•œ ë ˆë“œ ì™€ì¸\n\n**íŒŒí‹° íŒ:**\nâ€¢ ë‹¤ì–‘í•œ ì·¨í–¥ì„ ê³ ë ¤í•œ ì„ íƒ\nâ€¢ ê°€ê²©ëŒ€ë³„ ì™€ì¸ ì¤€ë¹„\nâ€¢ ê°„ë‹¨í•œ ì•ˆì£¼ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ì™€ì¸\nâ€¢ ì‹œì›í•˜ê²Œ ì°¨ê°‘ê²Œ ì„œë¹™\n\nëª¨ë“  ì‚¬ëŒì´ ì¦ê¸¸ ìˆ˜ ìˆëŠ” íŒŒí‹°ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!',
                            'ë³´ê´€': 'ì™€ì¸ ë³´ê´€ ë°©ë²•ì„ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤! ğŸ·\n\n**ë³´ê´€ ì¡°ê±´:**\nâ€¢ **ì˜¨ë„**: 12-18Â°C (ì ì • ì˜¨ë„ 15Â°C)\nâ€¢ **ìŠµë„**: 60-70%\nâ€¢ **ê´‘ì„ **: ì§ì‚¬ê´‘ì„  ì°¨ë‹¨\nâ€¢ **ì§„ë™**: ìµœì†Œí™”\n\n**ë³´ê´€ íŒ:**\nâ€¢ ì™€ì¸ ì¿¨ëŸ¬ë‚˜ ì§€í•˜ì‹¤ ì´ìš©\nâ€¢ ì½”ë¥´í¬ ì™€ì¸ì€ ëˆ•í˜€ì„œ ë³´ê´€\nâ€¢ ìŠ¤í¬ë¥˜ìº¡ì€ ì„¸ì›Œì„œ ë³´ê´€\nâ€¢ ë³´ê´€ ê¸°ê°„ì— ë”°ë¥¸ ì˜¨ë„ ì¡°ì ˆ\n\nì˜¬ë°”ë¥¸ ë³´ê´€ìœ¼ë¡œ ì™€ì¸ì˜ ì§„ê°€ë¥¼ ëŠê»´ë³´ì„¸ìš”!'
                        },
                        'en': {
                            'steak': 'I\'ll recommend wines that pair perfectly with steak! ğŸ¥©ğŸ·\n\n**Recommended Wines:**\nâ€¢ **Cabernet Sauvignon** - Rich tannins and deep flavor\nâ€¢ **Malbec** - Soft and fruity Argentine wine\nâ€¢ **Syrah/Shiraz** - Spicy and full-bodied\n\n**Price Range Recommendations:**\nâ€¢ $30-50: Chilean Santa Rita, Argentine Trapiche\nâ€¢ $50-100: French Bordeaux, Australian Penfolds\nâ€¢ $100+: Napa Valley, Italian Tuscany\n\nSteak doneness affects wine pairing. Light wines for rare steak, bold wines for well-done steak!',
                            'dessert': 'I\'ll recommend sweet dessert wines! ğŸ°ğŸ·\n\n**Recommended Wines:**\nâ€¢ **Moscato d\'Asti** - Light and sweet Italian wine\nâ€¢ **Riesling** - Floral and fruity German wine\nâ€¢ **Port Wine** - Rich sweetness from Portugal\nâ€¢ **Sauternes** - Honey-like sweetness from France\n\n**Dessert Pairings:**\nâ€¢ Cake: Moscato, Riesling\nâ€¢ Chocolate: Port Wine, Madeira\nâ€¢ Cheese: Sauternes, Ice Wine\nâ€¢ Fruit: Prosecco, Lambrusco\n\nDessert wine should be slightly sweeter than the dessert for perfect harmony!',
                            'budget': 'I\'ll recommend wines within your budget! ğŸ’°ğŸ·\n\n**Under $50 Recommendations:**\nâ€¢ **Chilean Wines**: Santa Rita, Cono Sur\nâ€¢ **Spanish Wines**: Rioja, Ribera del Duero\nâ€¢ **Italian Wines**: Chianti, Montepulciano\nâ€¢ **Australian Wines**: Yellow Tail, Jacobs Creek\n\n**Value Tips:**\nâ€¢ New World wines (Chile, Argentina, Australia)\nâ€¢ Lesser-known European regions\nâ€¢ Supermarket private labels\nâ€¢ Wine shop recommendations\n\nGreat wine doesn\'t have to be expensive. Finding your taste is most important!',
                            'romantic': 'I\'ll recommend wines for a romantic evening! ğŸ’•ğŸ·\n\n**Recommended Wines:**\nâ€¢ **Champagne** - Perfect choice for special moments\nâ€¢ **Prosecco** - Light and sweet Italian sparkling\nâ€¢ **Pinot Noir** - Elegant and delicate red wine\nâ€¢ **Chardonnay** - Soft and creamy white wine\n\n**Mood-based Recommendations:**\nâ€¢ Casual romance: Prosecco, Moscato\nâ€¢ Classic romance: Champagne, Burgundy\nâ€¢ Modern romance: New World Pinot Noir\nâ€¢ Sweet romance: Dessert Wine, Port\n\n**Pairing Recommendations:**\nâ€¢ With chocolate: Port Wine\nâ€¢ With cheese: Champagne\nâ€¢ With fruit: Moscato\nâ€¢ Candlelight dinner: Pinot Noir\n\nLet me make your romantic moments even more special! ğŸŒ¹',
                            'party': 'I\'ll recommend wines for your party! ğŸ‰ğŸ·\n\n**Recommended Wines:**\nâ€¢ **Prosecco** - Light and sweet Italian sparkling\nâ€¢ **Cava** - Economical Spanish sparkling wine\nâ€¢ **Pinot Grigio** - Light and crisp white wine\nâ€¢ **Beaujolais** - Fruity red wine\n\n**Party Tips:**\nâ€¢ Consider diverse preferences\nâ€¢ Prepare wines in different price ranges\nâ€¢ Choose wines that pair well with simple appetizers\nâ€¢ Serve chilled\n\nCreate a party that everyone can enjoy!',
                            'storage': 'I\'ll tell you about wine storage methods! ğŸ·\n\n**Storage Conditions:**\nâ€¢ **Temperature**: 12-18Â°C (optimal 15Â°C)\nâ€¢ **Humidity**: 60-70%\nâ€¢ **Light**: Avoid direct sunlight\nâ€¢ **Vibration**: Minimize\n\n**Storage Tips:**\nâ€¢ Use wine cooler or cellar\nâ€¢ Store cork wines horizontally\nâ€¢ Store screw cap wines vertically\nâ€¢ Adjust temperature based on storage duration\n\nExperience the true value of wine through proper storage!'
                        },
                        'pt': {
                            'bife': 'Vou recomendar vinhos que combinam perfeitamente com bife! ğŸ¥©ğŸ·\n\n**Vinhos Recomendados:**\nâ€¢ **Cabernet Sauvignon** - Taninos ricos e sabor profundo\nâ€¢ **Malbec** - Vinho argentino suave e frutado\nâ€¢ **Syrah/Shiraz** - Picante e encorpado\n\n**RecomendaÃ§Ãµes por Faixa de PreÃ§o:**\nâ€¢ $30-50: Santa Rita chileno, Trapiche argentino\nâ€¢ $50-100: Bordeaux francÃªs, Penfolds australiano\nâ€¢ $100+: Napa Valley, Toscana italiana\n\nO ponto do bife afeta o harmonizaÃ§Ã£o. Vinhos leves para bife mal passado, vinhos encorpados para bem passado!',
                            'sobremesa': 'Vou recomendar vinhos doces de sobremesa! ğŸ°ğŸ·\n\n**Vinhos Recomendados:**\nâ€¢ **Moscato d\'Asti** - Vinho italiano leve e doce\nâ€¢ **Riesling** - Vinho alemÃ£o floral e frutado\nâ€¢ **Vinho do Porto** - DoÃ§ura rica de Portugal\nâ€¢ **Sauternes** - DoÃ§ura como mel da FranÃ§a\n\n**HarmonizaÃ§Ãµes de Sobremesa:**\nâ€¢ Bolo: Moscato, Riesling\nâ€¢ Chocolate: Vinho do Porto, Madeira\nâ€¢ Queijo: Sauternes, Ice Wine\nâ€¢ Frutas: Prosecco, Lambrusco\n\nO vinho de sobremesa deve ser ligeiramente mais doce que a sobremesa para harmonia perfeita!',
                            'orÃ§amento': 'Vou recomendar vinhos dentro do seu orÃ§amento! ğŸ’°ğŸ·\n\n**RecomendaÃ§Ãµes abaixo de $50:**\nâ€¢ **Vinhos Chilenos**: Santa Rita, Cono Sur\nâ€¢ **Vinhos EspanhÃ³is**: Rioja, Ribera del Duero\nâ€¢ **Vinhos Italianos**: Chianti, Montepulciano\nâ€¢ **Vinhos Australianos**: Yellow Tail, Jacobs Creek\n\n**Dicas de Valor:**\nâ€¢ Vinhos do Novo Mundo (Chile, Argentina, AustrÃ¡lia)\nâ€¢ RegiÃµes europeias menos conhecidas\nâ€¢ Marcas prÃ³prias de supermercado\nâ€¢ RecomendaÃ§Ãµes de lojas de vinho\n\nGrande vinho nÃ£o precisa ser caro. Encontrar seu gosto Ã© mais importante!',
                            'romÃ¢ntico': 'Vou recomendar vinhos para uma noite romÃ¢ntica! ğŸ’•ğŸ·\n\n**Vinhos Recomendados:**\nâ€¢ **Champagne** - Escolha perfeita para momentos especiais\nâ€¢ **Prosecco** - Espumante italiano leve e doce\nâ€¢ **Pinot Noir** - Vinho tinto elegante e delicado\nâ€¢ **Chardonnay** - Vinho branco suave e cremoso\n\n**RecomendaÃ§Ãµes por Clima:**\nâ€¢ Romance casual: Prosecco, Moscato\nâ€¢ Romance clÃ¡ssico: Champagne, Burgundy\nâ€¢ Romance moderno: Pinot Noir do Novo Mundo\nâ€¢ Romance doce: Vinho de Sobremesa, Porto\n\n**RecomendaÃ§Ãµes de HarmonizaÃ§Ã£o:**\nâ€¢ Com chocolate: Vinho do Porto\nâ€¢ Com queijo: Champagne\nâ€¢ Com frutas: Moscato\nâ€¢ Jantar Ã  luz de velas: Pinot Noir\n\nDeixe-me tornar seus momentos romÃ¢nticos ainda mais especiais! ğŸŒ¹',
                            'festa': 'Vou recomendar vinhos para sua festa! ğŸ‰ğŸ·\n\n**Vinhos Recomendados:**\nâ€¢ **Prosecco** - Espumante italiano leve e doce\nâ€¢ **Cava** - Vinho espumante espanhol econÃ´mico\nâ€¢ **Pinot Grigio** - Vinho branco leve e crocante\nâ€¢ **Beaujolais** - Vinho tinto frutado\n\n**Dicas de Festa:**\nâ€¢ Considere preferÃªncias diversas\nâ€¢ Prepare vinhos em diferentes faixas de preÃ§o\nâ€¢ Escolha vinhos que combinam bem com aperitivos simples\nâ€¢ Sirva gelado\n\nCrie uma festa que todos possam aproveitar!',
                            'armazenamento': 'Vou falar sobre mÃ©todos de armazenamento de vinho! ğŸ·\n\n**CondiÃ§Ãµes de Armazenamento:**\nâ€¢ **Temperatura**: 12-18Â°C (Ã³tima 15Â°C)\nâ€¢ **Umidade**: 60-70%\nâ€¢ **Luz**: Evite luz solar direta\nâ€¢ **VibraÃ§Ã£o**: Minimize\n\n**Dicas de Armazenamento:**\nâ€¢ Use adega ou porÃ£o\nâ€¢ Armazene vinhos com rolha horizontalmente\nâ€¢ Armazene vinhos com tampa de rosca verticalmente\nâ€¢ Ajuste temperatura baseado na duraÃ§Ã£o do armazenamento\n\nExperimente o verdadeiro valor do vinho atravÃ©s do armazenamento adequado!'
                        }
                    };

                    // í‚¤ì›Œë“œ ê¸°ë°˜ ì‘ë‹µ (í˜„ì¬ ì–¸ì–´ì— ë”°ë¼)
                    const langResponses = responses[currentLang] || responses['ko'];
                    for (const keyword in langResponses) {
                        if (userMessage.toLowerCase().includes(keyword.toLowerCase())) {
                            return langResponses[keyword];
                        }
                    }

                    // ê¸°ë³¸ ì‘ë‹µ (í˜„ì¬ ì–¸ì–´ì— ë”°ë¼)
                    const defaultResponses = {
                        'ko': `í¥ë¯¸ë¡œìš´ ì§ˆë¬¸ì´ë„¤ìš”! "${userMessage}"ì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œë ¤ì£¼ì‹œë©´, ë” ì •í™•í•œ ì™€ì¸ ì¶”ì²œì„ ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ·\n\në‹¤ìŒ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì‹œë©´ ë„ì›€ì´ ë©ë‹ˆë‹¤:\nâ€¢ ì–´ë–¤ ìŒì‹ê³¼ í•¨ê»˜ ë“œì‹¤ ê±´ê°€ìš”?\nâ€¢ ì„ í˜¸í•˜ëŠ” ì™€ì¸ ìŠ¤íƒ€ì¼ì´ ìˆë‚˜ìš”?\nâ€¢ ì˜ˆì‚°ì€ ì–´ëŠ ì •ë„ì¸ê°€ìš”?\nâ€¢ íŠ¹ë³„í•œ ìƒí™©ì´ë‚˜ ë¶„ìœ„ê¸°ê°€ ìˆë‚˜ìš”?\n\nì–¸ì œë“ ì§€ ììœ ë¡­ê²Œ ì§ˆë¬¸í•´ì£¼ì„¸ìš”!`,
                        'en': `Interesting question! If you could provide more details about "${userMessage}", I can give you more accurate wine recommendations. ğŸ·\n\nThe following information would be helpful:\nâ€¢ What food will you pair it with?\nâ€¢ Do you have a preferred wine style?\nâ€¢ What's your budget range?\nâ€¢ Any special occasion or mood?\n\nFeel free to ask anything!`,
                        'pt': `Pergunta interessante! Se vocÃª puder fornecer mais detalhes sobre "${userMessage}", posso dar recomendaÃ§Ãµes de vinho mais precisas. ğŸ·\n\nAs seguintes informaÃ§Ãµes seriam Ãºteis:\nâ€¢ Com que comida vocÃª vai harmonizar?\nâ€¢ VocÃª tem um estilo de vinho preferido?\nâ€¢ Qual Ã© sua faixa de orÃ§amento?\nâ€¢ Alguma ocasiÃ£o especial ou clima?\n\nSinta-se Ã  vontade para perguntar qualquer coisa!`
                    };

                    return defaultResponses[currentLang] || defaultResponses['ko'];
                }

                // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
                sendBtn.addEventListener('click', () => {
                    sendMessage(messageInput.value);
                });

                messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendMessage(messageInput.value);
                    }
                });

                // ë¹ ë¥¸ ì§ˆë¬¸ ë²„íŠ¼
                quickButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        sendMessage(btn.textContent);
                    });
                });
            }
        </script>
    </th:block>
</body>
</html>